{% extends "base_manager.html" %}

<!-- dummy html template for demonstration, only exists so git recognizes an empty folder -->
<!-- feel free to delete this -->

{% block page_css %}
<!-- page css -->
<style>
body {font-family: Arial, Helvetica, sans-serif;}
* {box-sizing: border-box}

input, #state {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  display: inline-block;
  border: none;
  background: #f1f1f1;
}
</style>
{% endblock %}

{% block page_js %}
<!-- page javascript -->
{% endblock %}

{% block page_content %}
<!-- page html -->

<div class = "staff">
  
  <h2>All Staff</h2>
  
  <h4>Cooks</h4>
  <table id = "cook-table" class="table table-condensed table-hover table-striped ng-table">
    <!--Table header-->
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th>Name</th>
      <th>Number of Warnings</th>
    </tr>

    <div id = "cook-data">
    {% for cook in cooks %}
      <tr>
        <td class = "last-n">{{ cook.user.id }}</td>
        <td class = "last-n">{{ cook.user.username }}</td>
        <td class = "first-n">{{ cook.user.first_name }} {{ cook.user.last_name }} </td>
        <td class = "warnings">{{ cook.warnings }}</td>
      </tr>
      <tr>
        <th>Salary:</th>
        <td class = "staff_salary">{{ cook.salary }}</td>
        <form method="POST" action="{% url "manager-staff" %}">
          {% csrf_token %}
          <input class="user_id" type="hidden" value="{{ cook.user.id }}"></input>
          <td><input class = "salary" name="salary" min="0" type="number"></input></td>
          <td><button class="edit_salary" task="edit_salary" type="submit">Edit Salary</button></td>
          <td class = "view-details">
            <a href="{% url 'manager-staffdetails' cook.user.id %}" class="button" target="_blank">View Details</a>
          </td>
          <td><button class = "remove_warning" task = "remove_warning" type="submit">Remove 1 Warning</button></td>
          <td><button class = "fire" task = "fire" type="submit">Fire</button></td>
        </form>
        
      </tr>
    {% endfor %}
    </div>
  </table>

  <h4>Salespeople</h4>
  <table id = "salesperson-table" class="table table-condensed table-hover table-striped ng-table">
    <!--Table header-->
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th>Name</th>
      <th>Number of Warnings</th>
    </tr>

    
    <div id = "salesperson-data">
    {% for salesperson in salespeople %}
      <tr>
        <td class = "last-n">{{ salesperson.user.id }}</td>
        <td class = "last-n">{{ salesperson.user.username }}</td>
        <td class = "first-n">{{ salesperson.user.first_name }} {{ salesperson.user.last_name }} </td>
        <td class = "warnings">{{ salesperson.warnings }}</td>
      </tr>
      <tr>
        <th>Salary:</th>
        <td class = "staff_salary">{{ salesperson.salary }}</td>
        <form method="POST" action="{% url "manager-staff" %}">
        {% csrf_token %}
          <input class="user_id" type="hidden" value="{{ salesperson.user.id }}"></input>
          <td><input class = "salary" name="salary" min="0" type="number"></input></td>
          <td><button class="edit_salary" task="edit_salary" type="submit">Edit Salary</button></td>
          <td class = "view-details">
            <a href="{% url 'manager-staffdetails' salesperson.user.id %}" class="button" target="_blank">View Details</a>
          </td>
          <td><button class = "remove_warning" task = "remove_warning" type="submit">Remove 1 Warning</button></td>
          <td><button class = "fire" task = "fire" type="submit">Fire</button></td>
        </form>
        
      </tr>
      {% endfor %}
    </div>
  </table>

  <h4>Deliverers</h4>
  <table id = "deliverer-table" class="table table-condensed table-hover table-striped ng-table">
    <!--Table header-->
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th>Name</th>
      <th>Number of Warnings</th>
    </tr>

    <div id = "deliverer-data">
    {% for deliverer in deliverers %}
      <tr>
        <td class = "last-n">{{ deliverer.user.id }}</td>
        <td class = "last-n">{{ deliverer.user.username }}</td>
        <td class = "first-n">{{ deliverer.user.first_name }} {{ salesperson.user.last_name }} </td>
        <td class = "warnings">{{ deliverer.warnings }}</td>
      </tr>
      <tr>
        <th>Salary:</th>
        <td class = "staff_salary">{{ deliverer.salary }}</td>
        <form method="POST" action="{% url "manager-staff" %}">
        {% csrf_token %}
          <input class="user_id" type="hidden" value="{{ deliverer.user.id }}"></input>
          <td><input class = "salary" name="salary" min="0" type="number"></input></td>
          <td><button class="edit_salary" task="edit_salary" type="submit">Edit Salary</button></td>
          <td class = "view-details">
            <a href="{% url 'manager-staffdetails' deliverer.user.id %}" class="button" target="_blank">View Details</a>
          </td>
          <td><button class = "remove_warning" task = "remove_warning" type="submit">Remove 1 Warning</button></td>
          <td><button class = "fire" task = "fire" type="submit">Fire</button></td>
        </form>
          
      </tr>
    {% endfor %}
    </div>
  </table>

</div>

{% endblock %}