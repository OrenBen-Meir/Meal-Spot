{% extends "base_manager.html" %}

<!-- dummy html template for demonstration, only exists so git recognizes an empty folder -->
<!-- feel free to delete this -->

{% block page_css %}
<!-- page css -->
{% endblock %}

{% block page_js %}
<!-- page javascript -->
{% endblock %}

{% block page_content %}
<!-- page html -->
<div class = "customers">
        <h2 id = "title">All Customers:</h2>
  
  
      <!--Get list of all customers from restaurant-->

      <table id = "cust-name">
        <tr>
          <th>Last Name:</th>
          <th>First Name:</th>
          <th>Status:</th>
          <th>Rating:</th>
          <th># Complaints received:</th>
        </tr>
        {% for info_entry in customer_info %}
        <tr>
        {% registered_customer = info_entry.get('registered_customer') %}
          <td class = "last-n">{{ registered_customer.customer.last_name }}</td>
          <td class = "first-n">{{ registered_customer.customer.first_name }}</td>
          <td class = "status">{{ registered_customer.status }}</td>
          <td class = "rating">{{ egistered_customer.status }}</td>
          <td class = "num-complaints">{{ info_entry.get(complaintcount) }}</td>
          <td class = "more-info">
            <a href="{% url 'manager-customerdetails' customer.id %}" class="button">More info</a>
          </td>
        </tr>
        {% endfor %}
      </table>

      <div id = "status-change">
        <button id = "promote-vip">Promote to VIP</button>
        <button id = "demote">Demote to regular</button>
        <button id = "blacklist">Blacklist</button>
        <button id = "remove">Remove</button>
      </div>

    </div>
{% endblock %}